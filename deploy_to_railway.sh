#!/bin/bash

# üöÄ –î–µ–ø–ª–æ–π Python API –Ω–∞ Railway

echo "üöÄ –î–µ–ø–ª–æ–π Python API –Ω–∞ Railway"
echo "==============================="

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

print_status() {
    echo -e "${BLUE}[INFO]${NC} $1"
}

print_success() {
    echo -e "${GREEN}[SUCCESS]${NC} $1"
}

print_error() {
    echo -e "${RED}[ERROR]${NC} $1"
}

print_warning() {
    echo -e "${YELLOW}[WARNING]${NC} $1"
}

echo "üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Railway - —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –¥–µ–ø–ª–æ—è Python API"
echo ""

echo "üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:"
echo ""

echo "1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ Railway"
echo "   –û—Ç–∫—Ä–æ–π—Ç–µ: https://railway.app"
echo "   –ù–∞–∂–º–∏—Ç–µ 'Start a New Project'"
echo "   –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)"
echo ""

read -p "–ù–∞–∂–º–∏—Ç–µ Enter –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞..."

echo ""
echo "2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞"
echo "   –ù–∞–∂–º–∏—Ç–µ 'Deploy from GitHub repo'"
echo "   –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π"
echo "   –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É 'api/' (–≤–∞–∂–Ω–æ!)"
echo "   Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Python –ø—Ä–æ–µ–∫—Ç"
echo ""

read -p "–ù–∞–∂–º–∏—Ç–µ Enter –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞..."

echo ""
echo "3Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è"
echo "   –í Railway Dashboard –¥–æ–±–∞–≤—å—Ç–µ:"
echo ""

echo "SUPABASE_URL=https://vuznvbjsimejtoppzppv.supabase.co"
echo "SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ1em52YmpzaW1lanRvcHB6cHB2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNTI3NTAsImV4cCI6MjA3MDgyODc1MH0.P8MDGDQIGoHObgRBFdeFWvbVjsShqOGcGhKEMRa-8B4"
echo "SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ1em52YmpzaW1lanRvcHB6cHB2Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NTI1Mjc1MCwiZXhwIjoyMDcwODI4NzUwfQ.kpUbkTvP5Lrsk6Tw5Km3WbWXfwHkg69b1H_1YMyAdIM"
echo "GOOGLE_API_KEY=AIzaSyCxaE6KtU2iYuBhxyjeyZLANWj5apDc6PM"
echo "GOOGLE_API_KEY2=AIzaSyAhDmoZAa_RVmP1SfC8Yg04ymM2XcuH5lM"
echo "JWT_SECRET=ai-researcher-jwt-secret-2024"
echo ""

read -p "–ù–∞–∂–º–∏—Ç–µ Enter –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö..."

echo ""
echo "4Ô∏è‚É£ –î–µ–ø–ª–æ–π"
echo "   Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –¥–µ–ø–ª–æ–π"
echo "   –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (2-3 –º–∏–Ω—É—Ç—ã)"
echo "   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –≤–∞—à–µ–≥–æ API"
echo ""

read -p "–ù–∞–∂–º–∏—Ç–µ Enter –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è..."

echo ""
echo "5Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Supabase"
echo "   –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è URL:"
echo "   –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Supabase Dashboard"
echo "   –û–±–Ω–æ–≤–∏—Ç–µ PYTHON_SERVICE_URL –Ω–∞ –≤–∞—à Railway URL"
echo ""

read -p "–í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ Railway API: " RAILWAY_URL

if [ -z "$RAILWAY_URL" ]; then
    print_warning "URL –Ω–µ –≤–≤–µ–¥–µ–Ω. –û–±–Ω–æ–≤–∏—Ç–µ PYTHON_SERVICE_URL –≤ Supabase Dashboard –ø–æ–∑–∂–µ"
else
    print_success "URL –ø–æ–ª—É—á–µ–Ω: $RAILWAY_URL"
    echo ""
    echo "üîß –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ Supabase Dashboard:"
    echo "   PYTHON_SERVICE_URL=$RAILWAY_URL"
fi

echo ""
print_success "üéâ –î–µ–ø–ª–æ–π –Ω–∞ Railway –∑–∞–≤–µ—Ä—à–µ–Ω!"
echo ""
echo "‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL: $RAILWAY_URL"
echo "‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS"
echo "‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—É—à–µ –≤ GitHub"
echo ""
echo "üöÄ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤!"
